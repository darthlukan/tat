!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n,o,i,a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TEXT="text",e.EMAIL="email",e.TEL="tel",e.NUMBER="number",e.SELECT="select",e.CHOICE="choice",e.TEXTAREA="textarea",e.DATE="date"}(t.SurveyFieldType||(t.SurveyFieldType={}))}.apply(t,[r,t]),o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TRUCK_STOP_VOLUNTEER="truckStopVolunteer",e.EVENT_VOLUNTEER="freedomDriversVolunteer",e.AMBASSADOR_VOLUNTEER="ambassadorVolunteer"}(t.VolunteerType||(t.VolunteerType={})),function(e){e.CDL_SCHOOL="cdlSchool",e.TRUCKING_COMPANY="truckingCompany",e.TRUCK_STOP="truckStop"}(t.OutreachLocationType||(t.OutreachLocationType={})),function(e){e[e.BASIC_USER_DATA=1]="BASIC_USER_DATA",e[e.HOURS_LOGS=2]="HOURS_LOGS",e[e.UNFINISHED_ACTIVITIES=4]="UNFINISHED_ACTIVITIES",e[e.ALL=7]="ALL"}(t.UserDataRequestFlags||(t.UserDataRequestFlags={}))}.apply(t,[r,t]),void 0===(i=function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,r){this.userDataService=e,this.proxyAPI=t,this.miscService=r,this._yesNoOptions=[{value:"yes",labelTranslationKey:"misc.buttons.yes"},{value:"no",labelTranslationKey:"misc.buttons.no"}]}return e.prototype.hoursLogSurvey=function(){var e=this;return{pages:[{topTextTranslationKey:"volunteer.forms.hoursLog.labels.describe",fields:[{type:r.SurveyFieldType.TEXTAREA,name:"description",isRequired:!0}]},{fields:[{type:r.SurveyFieldType.DATE,labelTranslationKey:"volunteer.forms.hoursLog.labels.date",name:"date",isRequired:!0},{type:r.SurveyFieldType.NUMBER,labelTranslationKey:"volunteer.forms.hoursLog.labels.numHours",name:"numHours",isRequired:!0}]}],onSubmit:function(t){return a(e,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=t,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return e.firebaseIdToken=r.sent(),t.date=this.miscService.dateToLocalYYYYMMDD(t.date),t.numHours=parseFloat(t.numHours),[2,this.genericProxyPOST("createHoursLogEntry",t)]}})})}}},e.prototype.preOutreachSurvey=function(){var e=this,t=this.userDataService.data;return{pages:[{topTextTranslationKey:"volunteer.forms.preOutreach.labels.whatLocation",fields:[{type:r.SurveyFieldType.TEXT,labelTranslationKey:"volunteer.forms.preOutreach.labels.locationName",name:"locationName",isRequired:!0},{type:r.SurveyFieldType.SELECT,labelTranslationKey:"volunteer.forms.preOutreach.labels.locationType",name:"locationType",options:[{value:n.OutreachLocationType.CDL_SCHOOL,labelTranslationKey:"volunteer.forms.preOutreach.labels.locationTypes.cdlSchool"},{value:n.OutreachLocationType.TRUCK_STOP,labelTranslationKey:"volunteer.forms.preOutreach.labels.locationTypes.truckStop"},{value:n.OutreachLocationType.TRUCKING_COMPANY,labelTranslationKey:"volunteer.forms.preOutreach.labels.locationTypes.truckingCompany"}],isRequired:!0},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.address",name:"locationAddress",isRequired:!0},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.city",name:"locationCity",isRequired:!0},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.state",name:"locationState",isRequired:!0},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.zip",name:"locationZip",isRequired:!0}]},{topTextTranslationKey:"volunteer.forms.preOutreach.labels.haveYouContacted",fields:[{type:r.SurveyFieldType.CHOICE,name:"hasContactedManager",options:this._yesNoOptions,isRequired:!0}]},{topTextTranslationKey:"volunteer.forms.preOutreach.labels.areYouReady",isVisible:function(e){return"yes"==e.hasContactedManager},fields:[{type:r.SurveyFieldType.CHOICE,name:"isReadyToReceive",options:this._yesNoOptions,isRequired:!0}]},{topTextTranslationKey:"volunteer.forms.preOutreach.labels.whatAddress",isVisible:function(e){return"yes"==e.hasContactedManager&&"yes"==e.isReadyToReceive},fields:[{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.address",name:"mailingAddress",isRequired:!0,defaultValue:t.address},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.city",name:"mailingCity",isRequired:!0,defaultValue:t.city},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.state",name:"mailingState",isRequired:!0,defaultValue:t.state},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.zip",name:"mailingZip",isRequired:!0,defaultValue:t.zip}]}],onSubmit:function(t){return a(e,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=t,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return e.firebaseIdToken=r.sent(),t.hasContactedManager="yes"===t.hasContactedManager,t.isReadyToReceive="yes"===t.isReadyToReceive,[2,this.genericProxyPOST("createPreOutreachSurvey",t)]}})})}}},e.prototype.postOutreachSurvey=function(e){var t=this;return{pages:[{isVisible:function(t){return e.type===n.OutreachLocationType.TRUCK_STOP},topTextTranslationKey:"volunteer.forms.postOutreach.labels.whichAccomplishments",fields:[{type:r.SurveyFieldType.CHOICE,name:"accomplishments",multi:!0,options:[{value:"Truck stop is now distributing TAT materials at their location",labelTranslationKey:"volunteer.forms.postOutreach.labels.truckStop.distributing"},{value:"Truck stop will now train employees with TAT materials",labelTranslationKey:"volunteer.forms.postOutreach.labels.truckStop.training"},{value:"Truck stop has asked for an in-person training for all employees",labelTranslationKey:"volunteer.forms.postOutreach.labels.truckStop.inPersonTraining"},{value:"Truck stop is open to having an outreach at their location to speak with drivers in an appropriate format",labelTranslationKey:"volunteer.forms.postOutreach.labels.truckStop.hostOutreach"}]},{type:r.SurveyFieldType.TEXTAREA,name:"otherAccomplishments",labelTranslationKey:"misc.other"}]},{isVisible:function(t){return e.type===n.OutreachLocationType.CDL_SCHOOL},topTextTranslationKey:"volunteer.forms.postOutreach.labels.whichAccomplishments",fields:[{type:r.SurveyFieldType.CHOICE,name:"accomplishments",multi:!0,options:[{value:"CDL instructor will begin using TAT training with students",labelTranslationKey:"volunteer.forms.postOutreach.labels.cdlSchool.using"},{value:"CDL instructor plans to pass on TAT information to other faculty",labelTranslationKey:"volunteer.forms.postOutreach.labels.cdlSchool.passInfo"}]},{type:r.SurveyFieldType.TEXTAREA,name:"otherAccomplishments",labelTranslationKey:"misc.other"}]},{isVisible:function(t){return e.type===n.OutreachLocationType.TRUCKING_COMPANY},topTextTranslationKey:"volunteer.forms.postOutreach.labels.whichAccomplishments",fields:[{type:r.SurveyFieldType.CHOICE,name:"accomplishments",multi:!0,options:[{value:"Trucking company plans to show their drivers the TAT training video and hand out wallet cards.",labelTranslationKey:"volunteer.forms.postOutreach.labels.truckingCompany.showDrivers"}]},{type:r.SurveyFieldType.TEXTAREA,name:"otherAccomplishments",labelTranslationKey:"misc.other"}]},{topTextTranslationKey:"volunteer.forms.postOutreach.labels.followUp",fields:[{type:r.SurveyFieldType.CHOICE,name:"willFollowUp",isRequired:!0,options:this._yesNoOptions}]},{isVisible:function(e){return"yes"===e.willFollowUp},topTextTranslationKey:"volunteer.forms.postOutreach.labels.followUpWhen",fields:[{type:r.SurveyFieldType.DATE,name:"followUpDate",labelTranslationKey:"volunteer.forms.postOutreach.labels.followUpDate",isRequired:!0}]}],onSubmit:function(e){return a(t,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:return t=e,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return t.firebaseIdToken=r.sent(),e.willFollowUp="yes"===e.willFollowUp,e.followUpDate=this.miscService.dateToLocalYYYYMMDD(e.followUpDate),e.accomplishments+=" "+e.otherAccomplishments,[2,this.genericProxyPOST("createPostOutreachReport",e)]}})})}}},e.prototype.testimonialFeedbackSurvey=function(){var e=this;return{pages:[{topTextTranslationKey:"volunteer.forms.feedback.labels.whatAdvice",fields:[{type:r.SurveyFieldType.TEXTAREA,name:"advice"}]},{topTextTranslationKey:"volunteer.forms.feedback.labels.bestPart",fields:[{type:r.SurveyFieldType.TEXTAREA,name:"bestPart"}]},{topTextTranslationKey:"volunteer.forms.feedback.labels.improvements",fields:[{type:r.SurveyFieldType.TEXTAREA,name:"improvements"}]},{topTextTranslationKey:"volunteer.forms.feedback.labels.giveAnonPermission",fields:[{type:r.SurveyFieldType.CHOICE,name:"givesAnonPermission",isRequired:!0,options:this._yesNoOptions}]},{topTextTranslationKey:"volunteer.forms.feedback.labels.giveNamePermission",fields:[{type:r.SurveyFieldType.CHOICE,name:"givesNamePermission",isRequired:!0,options:this._yesNoOptions}]}],onSubmit:function(t){return a(e,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=t,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return e.firebaseIdToken=r.sent(),t.givesAnonPermission="yes"===t.givesAnonPermission,t.givesNamePermission="yes"===t.givesNamePermission,[2,this.genericProxyPOST("createTestimonial",t)]}})})}}},e.prototype.trainingVideoFeedbackSurvey=function(){var e=this;return{pages:[{topTextTranslationKey:this.userDataService.data.volunteerType===n.VolunteerType.TRUCK_STOP_VOLUNTEER?"volunteer.forms.trainingFeedback.labels.equippedForOutreach":"volunteer.forms.trainingFeedback.labels.confidentInPresenting",fields:[{type:r.SurveyFieldType.CHOICE,name:"feelsPrepared",options:this._yesNoOptions,isRequired:!0}]},{isVisible:function(e){return"no"===e.feelsPrepared},topTextTranslationKey:"volunteer.forms.trainingFeedback.labels.whatQuestions",fields:[{type:r.SurveyFieldType.TEXTAREA,name:"questions"}]}],onSubmit:function(t){return a(e,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=t,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return e.firebaseIdToken=r.sent(),t.feelsPrepared="yes"===t.feelsPrepared,[2,this.genericProxyPOST("createTrainingVideoFeedback",t)]}})})}}},e.prototype.signupSurvey=function(){var e,t=this;return{pages:[{fields:[{type:r.SurveyFieldType.TEXT,name:"registrationCode",labelTranslationKey:"volunteer.forms.signup.labels.registrationCode",isRequired:!0}],onContinue:function(e){return t.proxyAPI.get("checkRegistrationCode?code="+encodeURIComponent(e.registrationCode)).then(function(e){if(!e||!e.success)throw""}).catch(function(e){var r=e.error&&e.error.errorCode&&"INCORRECT_REGISTRATION_CODE"===e.error.errorCode?"volunteer.forms.signup.invalidCode":"misc.messages.requestError";throw t.miscService.showErrorPopup(r)})}},{topTextTranslationKey:"volunteer.forms.signup.labels.intro",fields:[{type:r.SurveyFieldType.EMAIL,name:"email",labelTranslationKey:"volunteer.forms.signup.labels.email",isRequired:!0},{type:r.SurveyFieldType.TEL,name:"phone",labelTranslationKey:"volunteer.forms.signup.labels.phone",isRequired:!0}],onContinue:function(r){return e=void 0,t.proxyAPI.get("contactSearch?email="+encodeURIComponent(r.email)+"&phone="+encodeURIComponent(r.phone)).then(function(t){if(!t||!t.salesforceId)throw"";e=t.salesforceId}).catch(function(e){var r="misc.messages.requestError";if(e.error&&e.error.errorCode){if("NO_MATCHING_ENTRY"===e.error.errorCode)return;"ENTRY_ALREADY_HAS_ACCOUNT"===e.error.errorCode&&(r="volunteer.forms.signup.accountAlreadyExists")}throw t.miscService.showErrorPopup(r),""})}},{isVisible:function(t){return!e},fields:[{type:r.SurveyFieldType.TEXT,name:"firstName",labelTranslationKey:"volunteer.forms.signup.labels.firstName",isRequired:!0},{type:r.SurveyFieldType.TEXT,name:"lastName",labelTranslationKey:"volunteer.forms.signup.labels.lastName",isRequired:!0}]},{fields:[{type:r.SurveyFieldType.SELECT,name:"volunteerType",labelTranslationKey:"volunteer.forms.signup.labels.volunteerType",isRequired:!0,options:[{value:n.VolunteerType.TRUCK_STOP_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.truckStop"},{value:n.VolunteerType.EVENT_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.event"},{value:n.VolunteerType.AMBASSADOR_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.ambassador"}]}]},{topTextTranslationKey:"volunteer.forms.signup.labels.whatAddress",fields:[{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.address",name:"mailingAddress"},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.city",name:"mailingCity"},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.state",name:"mailingState"},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.zip",name:"mailingZip"}]},{topTextTranslationKey:"volunteer.forms.signup.labels.partOfTeam",fields:[{type:r.SurveyFieldType.CHOICE,name:"partOfTeam",isRequired:!0,options:this._yesNoOptions}]},{isVisible:function(e){return"yes"===e.partOfTeam},topTextTranslationKey:"volunteer.forms.signup.labels.isCoordinator",fields:[{type:r.SurveyFieldType.CHOICE,name:"isCoordinator",isRequired:!0,options:this._yesNoOptions}]},{isVisible:function(e){return"yes"===e.partOfTeam&&"no"===e.isCoordinator},topTextTranslationKey:"volunteer.forms.signup.labels.whatName",fields:[{type:r.SurveyFieldType.TEXT,name:"coordinatorName",labelTranslationKey:"volunteer.forms.signup.labels.coordinatorName",isRequired:!0}]}],onSubmit:function(r){return a(t,void 0,void 0,function(){var t,n=this;return s(this,function(o){switch(o.label){case 0:return t=r,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return t.firebaseIdToken=o.sent(),r.partOfTeam="yes"===r.partOfTeam,r.isCoordinator="yes"===r.isCoordinator,e&&(r.salesforceId=e),[2,this.proxyAPI.post("createNewUser",r).then(function(e){if(!e||!e.contactId)throw""}).catch(function(e){var t=e.error&&"INCORRECT_REGISTRATION_CODE"===e.errorCode?"volunteer.forms.signup.invalidCode":"misc.messages.requestError";throw n.miscService.showErrorPopup(t),""})]}})})}}},e.prototype.editAccountSurvey=function(){var e=this,t=this.userDataService.data;return{pages:[{fields:[{type:r.SurveyFieldType.SELECT,name:"volunteerType",labelTranslationKey:"volunteer.forms.signup.labels.volunteerType",isRequired:!0,defaultValue:t.volunteerType,options:[{value:n.VolunteerType.TRUCK_STOP_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.truckStop"},{value:n.VolunteerType.EVENT_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.event"},{value:n.VolunteerType.AMBASSADOR_VOLUNTEER,labelTranslationKey:"volunteer.forms.signup.labels.volunteerTypes.ambassador"}]}]},{topTextTranslationKey:"volunteer.forms.signup.labels.whatAddress",fields:[{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.address",name:"mailingAddress",defaultValue:t.address},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.city",name:"mailingCity",defaultValue:t.city},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.state",name:"mailingState",defaultValue:t.state},{type:r.SurveyFieldType.TEXT,labelTranslationKey:"misc.location.zip",name:"mailingZip",defaultValue:t.zip}]}],onSubmit:function(t){return a(e,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=t,[4,this.userDataService.firebaseUser.getIdToken()];case 1:return e.firebaseIdToken=r.sent(),[2,this.genericProxyPOST("updateUser",t)]}})})}}},e.prototype.genericProxyPOST=function(e,t){var r=this;return this.proxyAPI.post(e,t).then(function(e){if(!e||!e.success)throw""}).catch(function(e){throw r.miscService.showErrorPopup(),""})},e}();t.SurveyService=o,window.SurveyService=o}.apply(t,[r,t,n,o]))||(e.exports=i)}]);