<ion-header>
  <ion-toolbar></ion-toolbar>
</ion-header>

<ion-content fullscreen padding>
  <h1>{{ 'emailReport.title' | translate }}</h1>
  <ion-icon name="md-close" class="modal-close-btn" (click)="modal.dismiss()"></ion-icon>

  <p>{{ 'emailReport.intro' | translate }}</p>

  <!-- victim -->
  <ion-item [class.no-border]="form.contactedVictim">
    <ion-checkbox [(ngModel)]="form.contactedVictim" color="primary"></ion-checkbox>
    <ion-label text-wrap>{{ 'emailReport.checkboxes.seenVictim' | translate }}</ion-label>
  </ion-item>
  
  <fieldset *ngIf="form.contactedVictim">
    <ion-item>
      <ion-label>{{ 'emailReport.victim.gender.label' | translate }}</ion-label>
      <ion-select [(ngModel)]="form.victimDetails.gender" placeholder="{{ 'emailReport.victim.gender.selectOne' | translate }}">
        <ion-select-option value="Unknown">{{ 'emailReport.victim.gender.unknown' | translate }}</ion-select-option>
        <ion-select-option value="Female">{{ 'emailReport.victim.gender.female' | translate }}</ion-select-option>
        <ion-select-option value="Male">{{ 'emailReport.victim.gender.male' | translate }}</ion-select-option>
        <ion-select-option value="Other">{{ 'emailReport.victim.gender.other' | translate }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">{{ 'emailReport.victim.appearance.label' | translate }}</ion-label>
      <ion-textarea [(ngModel)]="form.victimDetails.appearance" placeholder="{{ 'emailReport.victim.appearance.placeholder' | translate }}"></ion-textarea>
    </ion-item>

    <p class="like-ion-item">{{ 'emailReport.victim.flags.label' | translate }}:</p>

    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.hasRestrictedCommunication" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.hasRestrictedCommunication' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.isDisheveled" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.isDisheveled' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.isMinor" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.isMinor' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.offersSex" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.offersSex' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.doesNotKnow" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.doesNotKnow' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.hasPimp" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.hasPimp' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.hasBranding" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.hasBranding' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.hasLackOfKnowledge" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.hasLackOfKnowledge' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-checkbox [(ngModel)]="form.victimDetails.hasNoId" color="primary"></ion-checkbox>
      <ion-label text-wrap>{{ 'emailReport.victim.flags.hasNoId' | translate }}</ion-label>
    </ion-item>
    
    <ion-item>
      <ion-label position="stacked">{{ 'emailReport.victim.otherNotes.label' | translate }}</ion-label>
      <ion-textarea [(ngModel)]="form.victimDetails.other" placeholder="{{ 'emailReport.victim.otherNotes.placeholder' | translate }}"></ion-textarea>
    </ion-item>
  </fieldset>

  <!-- people -->
  <ion-item [class.no-border]="form.people">
    <ion-checkbox [(ngModel)]="form.people" color="primary"></ion-checkbox>
    <ion-label text-wrap>{{ 'emailReport.checkboxes.otherPeople' | translate }}</ion-label>
  </ion-item>

  <fieldset *ngIf="form.people">
    <ion-item>
      <ion-label position="stacked">{{ 'emailReport.otherPeople.label' | translate }}</ion-label>
      <ion-textarea [(ngModel)]="form.peopleDetails" placeholder="{{ 'emailReport.otherPeople.placeholder' | translate }}"></ion-textarea>
    </ion-item>
  </fieldset>

  <!-- cars -->
  <ion-item [class.no-border]="form.cars">
    <ion-checkbox [(ngModel)]="form.cars" color="primary"></ion-checkbox>
    <ion-label text-wrap>{{ 'emailReport.checkboxes.cars' | translate }}</ion-label>
  </ion-item>

  <fieldset *ngIf="form.cars">
    <ion-item>
      <ion-label position="stacked">{{ 'emailReport.cars.label' | translate }}</ion-label>
      <ion-textarea [(ngModel)]="form.carsDetails" placeholder="{{ 'emailReport.cars.placeholder' | translate }}"></ion-textarea>
    </ion-item>
  </fieldset>

  <!-- time -->
  <p class="like-ion-item">{{ 'emailReport.when.label' | translate }}</p>
  <ion-item class="no-border">
    <ion-label>{{ 'misc.date' | translate }}</ion-label>
    <ion-datetime [(ngModel)]="form.date" displayFormat="MMMM DD, YYYY"></ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label>{{ 'misc.time' | translate }}</ion-label>
    <ion-datetime [(ngModel)]="form.time" displayFormat="h:mm a"></ion-datetime>
  </ion-item>

  <!-- place -->
  <ion-item>
    <ion-label position="stacked">{{ 'emailReport.where.label' | translate }}</ion-label>
    <ion-textarea [(ngModel)]="form.location" placeholder="{{ 'emailReport.where.placeholder' | translate }}"></ion-textarea>
    <!--
    <ion-button fill="clear" color="primary" size="default" (click)="automaticallyGetLocation()">
      Get my location for me
    </ion-button>
    -->
  </ion-item>

  <!-- additional info -->
  <ion-item>
    <ion-label position="stacked">{{ 'emailReport.additional.label' | translate }}</ion-label>
    <ion-textarea [(ngModel)]="form.additional" placeholder="{{ 'emailReport.additional.placeholder' | translate }}"></ion-textarea>
  </ion-item>

  <!-- phone -->
  <ion-item>
    <ion-label position="stacked">{{ 'emailReport.phone.label' | translate }}</ion-label>
    <ion-input [(ngModel)]="form.phone" type="tel" placeholder="{{ 'emailReport.phone.placeholder' | translate }}"></ion-input>
  </ion-item>

  <div [innerHTML]="'emailReport.notes' | translate"></div>

  <ion-button fill="solid" color="primary" size="default" (click)="buildReportEmail()">
    <ion-icon name="mail"></ion-icon>
    &nbsp;{{ 'emailReport.emailButton' | translate }}
  </ion-button>

  <ion-button fill="clear" color="danger" size="default" (click)="resetReportForm()">
    {{ 'emailReport.resetButton' | translate }}
  </ion-button>
  
</ion-content>